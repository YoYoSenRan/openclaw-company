# 08. 路线图与里程碑

## Scope
定义从 0 到可用版本的阶段目标、交付物、验收标准、依赖关系与风险缓冲。

## Non-goals
- 不承诺商业发布时间。

## Out-of-scope
- 不包含营销与运营活动排期。

## 阶段总览
- Phase 0：工程基建
- Phase 1：可视化 MVP
- Phase 2：指挥中心能力
- Phase 3：经营模拟系统
- Phase 4：回放与运维增强

## 时间基线（建议）
- 每个 Phase 1~2 周，可根据资源调整。

## Phase 0：工程基建（1周）

### 目标
搭建可开发、可调试、可测试的基础工程。

### 交付物
1. Monorepo 目录结构。
2. Web 与 BFF 空壳工程。
3. 协议类型包（packages/protocol）。
4. 基础 lint/type-check/test 流程。
5. 前端技术验证 Spike（React + Pixi + @pixi/react）。
6. OpenClaw 网关联调探针（握手、心跳、事件回显）。

### 验收标准
- 本地一键启动 Web+BFF。
- WS 连接可建立并回显测试事件。
- Spike 通过：热更新稳定、基础场景可渲染、20 Agent 不卡死。
- 输出《技术验证结论》：通过/降级/替代建议。

## Phase 1：可视化 MVP（1~2周）

### 目标
在像素办公室中展示员工与实时状态。

### 交付物
1. 办公室地图加载（Tiled JSON）。
2. 员工渲染与寻路移动。
3. 头顶状态图标与进度显示。
4. 对接 OpenClaw 基础事件（状态、在线、健康）。

### 验收标准
- 同屏 20~50 员工可稳定显示。
- 状态变化 1 秒内可见。

## Phase 2：指挥中心能力（2周）

### 目标
实现核心调度动作与战情视图。

### 交付物
1. 命令操作：assign/pause/resume/retry/handoff。
2. 电话派单与面交派单动画。
3. 阻塞告警面板与跳转定位。
4. 批量操作基础能力。

### 验收标准
- 操作命令具备回执与失败提示。
- 关键调度路径可端到端演示。

## Phase 3：经营模拟系统（2周）

### 目标
引入经营变量，让系统呈现“模拟经营”深度。

### 交付物
1. 精力/专注/压力/技能模型。
2. 效率与错误概率映射。
3. 会议派单与多人协作流程。
4. 事件剧情（插单、故障、需求变更）。

### 验收标准
- 数值变化可影响任务结果。
- 用户可通过管理手段改善产能与稳定性。

## Phase 4：回放与运维增强（1~2周）

### 目标
建立复盘闭环与稳定运行能力。

### 交付物
1. 时间轴回放。
2. 状态快照与事件重放。
3. 指标面板（吞吐、失败率、延迟）。
4. 断线恢复与重同步机制完善。

### 验收标准
- 最近 15 分钟可回放。
- 异常场景可定位到具体 Agent/Task。

## 版本里程碑
1. `v0.1.0`：Phase 1 完成。
2. `v0.2.0`：Phase 2 完成。
3. `v0.3.0`：Phase 3 完成。
4. `v0.4.0`：Phase 4 完成。
5. `v1.0.0`：协议冻结 + 稳定发布。

## 依赖与前置条件
1. OpenClaw Gateway 可稳定运行。
2. 美术最小资源包（员工、地图、图标）可用。
3. 基础测试框架与日志框架到位。

## 风险缓冲
1. 每个阶段预留 20% 缓冲时间。
2. 关键技术验证任务前置（协议、性能、动画管线）。
3. 若某阶段阻塞，优先保证主路径可演示版本。

### 缓冲分配规则（执行口径）
1. 每个 Phase 的缓冲时间优先分配给“协议联调 + 性能回归”。
2. 若当前 Phase 未消耗缓冲，结转 50% 到下一 Phase。
3. 若某阶段消耗 >20%，必须在里程碑评审中记录原因与纠偏动作。

## 关键验证时间点
1. OpenClaw 真实 Gateway 联调：Phase 0 末开始，Phase 1 持续回归。
2. 50 Agent / 60 FPS 验证：Phase 1 末做首次验证，Phase 4 做稳定性复验。
3. 回放容量与恢复演练：Phase 4 前完成专项测试。

## 里程碑评审模板
- 本期目标是否达成。
- 指标是否达标。
- 风险与遗留问题。
- 下阶段范围调整建议。

## MVP 先行原则
- 永远优先保证“可观察 + 可操控 + 可回放”三要素。
- 非核心视觉打磨可延期，不阻塞主流程上线。
